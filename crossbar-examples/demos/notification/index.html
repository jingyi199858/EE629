<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
   <meta charset="utf-8" />

   <!--<link rel="icon" href="record.ico" type="image/png" />--> <!--not for IE-->
   <link rel="shortcut icon" href="favicon.ico">

   <title>Notifications</title>

   <link rel="stylesheet" href="css/notification.css">

   <!-- Include Flash WebSocket via Conditional Comment:
        http://msdn.microsoft.com/en-us/library/ms537512%28v=vs.85%29.aspx -->
   <!--[if lte IE 9]>
      <script type="text/javascript">
        WEB_SOCKET_SWF_LOCATION = "../../flashws/WebSocketMain.swf";
      </script>
      <script type="text/javascript" src="../../flashws/swfobject.js"></script>
      <script type="text/javascript" src="../../flashws/web_socket.js"></script>

      <style>
         html
         {
            height: 1600px;
         }
         body
         {
            height: 1600px;
         }
      </style>

   <![endif]-->

   <script type="text/javascript" src="js/jquery.min.js"></script>
   <script>
      AUTOBAHN_DEBUG = false;
   </script>
    <script src="/shared/autobahn/autobahn.min.js"></script>

   <script type="text/javascript" src="js/tinycon.js"></script>
   <script type="text/javascript" src="js/notificon.js"></script>

   <script type="text/javascript" src="js/notification.js"></script>
</head>

<body>
   <header>
      <div id="header_inner">
         <div id="demo_title">
            <span>Notifications</span>
         </div>
         <a class="navbar-brand" href="/">
            <img src="crossbar_icon_inverted.svg" alt="crossbar logo inverted" width="60" height="60">
            <img src="crossbar_demos_text_paths.svg" alt="crossbar logo inverted" width="248" height="60">
         </a>
      </div>
   </header>

   <div class="demo_links">
      <p>
         Send a notification which can be received in any browser
      </p>
      <div>
         <a href="#" target="_blank" id="secondInstance">Open 2nd instance</a>
         <a href="https://github.com/crossbario/crossbarexamples/tree/master/demos/notification">
            Source Code
         </a>
         <a href="http://crossbar.io">
            Crossbar.io Homepage
         </a>
      </div>
   </div>

   <div id="demo_body">
      <div class="box box_left">
         <div class="box_heading">Publication Topic</div>
         <div class="box_content">
            <input type="text" id="pub_topic" class="textbox_active" size="6" maxlength="6" value="{{channel}}">
            <br/>
            <p class="pubsub_topic_full">
               URI: <span id="pub_topic_full"></span>
            </p>
            <textarea id="notification_message" spellcheck="false" class="webmq_demo_textbox_active" cols="38" rows="4" style="resize: none;"></textarea>
            <button id="send_notification" class="button">Send notification</button>
            <div class="status_line">
               Status: <span class="statusline"></span>
            </div>
         </div>
      </div>


      <div class="box box_right">
         <div class="box_heading">Subscription Topic</div>
         <div class="box_content">
            <input type="text" id="controller-channel" class="textbox_active" size="6" maxlength="6" value="{{channel}}">
            <button id="controller-channel-switch" class="button">Subscribe</button>
            <button id="controller-channel-cancel" class="button">Cancel</button>
            <br/>
            <p class="pubsub_topic_full">
               URI: <span id="sub_topic_full"></span>
            </p>
         </div>
      </div>

      <!-- <div class="box box_right additional_tab">
         <div class="box_heading">Open in additional Tab</div>
         <div class="box_content centered">
            <div id="pubsub_new_window">
               <a id="new-window" href="#" target="_blank">click to open in another window</a>
            </div>
         </div>
         <button id="helpButton" class="button">?</button>
      </div> -->

      <div class="info_bar" style="display: none;">
         <p class="info_bar_heading">Demo of notifications for PubSub events:
         </p>
         <ul>
            <li>
               All interactions on this demo occur in response to messages routed through an the instance of Crossbar.io
               displayed in the status line at the bottom of the demo box.
            </li>
            <li>
               Channels for sending and receiving messages are independent.
            </li>
            <li>
               Notify across browser windows by using a common controller channel.
            </li>
         </ul>
      </div>

      <div id="webmqad" class="notextselect defaultcursor arrowLeft">
         <div id="webmqad_message">You don't have any notifications yet!</div>
         <span id="webmqad_countdown">5</span>
      </div>

      <div class="clearboth"></div>
   </div>

   <!-- community widget iframe -->

   <!-- general styles for the widget -->
   <!-- <link rel="stylesheet" type="text/css" href="https://demo.crossbar.io/clandeckwidget/css/parent.css" /> -->

   <!-- local stylesheet -->
   <!--     - ensures non-Display if nothing loads -->
   <!--     - site-specific positioning of widget -->
   <style>
      #communityWidget.nonDisplay {
         display: none;
      }

      #communityWidget {
         top: 111px;
         right: 0px;
         box-shadow: 0 0 12px 2px rgba(0, 0, 0, 0.4);
      }
   </style>

   <!-- IFrame itself -->
   <!-- <iframe id="communityWidget" class="nonDisplay" src="https://demo.crossbar.io/clandeckwidget/index.html" frameborder="0"></iframe> -->

   <!-- the parent page connecting code -->
   <!-- <script src="https://demo.crossbar.io/clandeckwidget/js/parent.js"></script> -->


</body>
</html>
